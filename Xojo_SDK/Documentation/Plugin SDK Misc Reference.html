
<html>
   <head>
      <link rel='stylesheet' type='text/css' href='Support/main.css' />
      <title>Plugin SDK Misc Reference</title>
      <head>
	 <body>
<div id='topicHeader'><h2><a name='REALRaiseException'></a>REALRaiseException</h2></div>
<div id='content'>
<p id='briefDesc'>Raises an exception from the plugin. Note that plugins cannot catch REALbasic exceptions (even though they can create and raise them). This function call does not assume ownership of the exception (contrary to what previous documentation claimed), so you should release the reference to the exception once the call has been made. Immediately after you release the reference, you should return control back to REALbasic.</p>
<div id='classEntityGroup'>
<table class='memberTable' id='classProperties'>
<tr valign='top'>
<th colspan='1'><p>void REALRaiseException(REALobject exception);</p></th>
</tr>
<tr valign='top'>
<td width='100%'>
<p style='margin-bottom: 9px'><p>exception: the exception to raise. While this parameter specifies a generic REALobject, the object must always be a RuntimeException or one of its subclasses. Passing in an object which is not a RuntimeException will cause the application to crash. If this parameter is NULL, no exception will be raised.</p></p>
<p style='margin-bottom: 9px'></p>

</td>
</tr>
</table>
</div>
<div id='classEntityGroup'>
<table class='memberTable' id='classProperties'>
<tr valign='top'>
<th colspan='1'><p>Return Value</p></th>
</tr>
<tr valign='top'>
<td width='100%'>
<p style='margin-bottom: 9px'>none</p>

</td>
</tr>
</table>
</div>
<br/>
<div class='parameters'>// How to properly raise an exception<br />
if (someFailureCase) {<br />
	REALobject exp = REALnewInstance( "OutOfBoundsException" );<br />
	REALRaiseException( exp );<br />
	RuntimeUnlockObject( exp );<br />
	return;<br />
}</div>
</div>
<br/>
<br/>
<div id='topicHeader'><h2><a name='REALYieldToRB'></a>REALYieldToRB</h2></div>
<div id='content'>
<p id='briefDesc'>This function yields time back to the REALbasic runtime so that it can do periodic processing, such as cooperative thread context switching. You should call this function any time you do a long task in a plugin. However, it is not advisable to call this function too frequently in a loop as it can degrade the performance of your plugin.</p>
<div id='classEntityGroup'>
<table class='memberTable' id='classProperties'>
<tr valign='top'>
<th colspan='1'><p>void REALYieldToRB(void);</p></th>
</tr>
<tr valign='top'>
<td width='100%'>
<p style='margin-bottom: 9px'><p>parameters: none</p></p>
<p style='margin-bottom: 9px'></p>

</td>
</tr>
</table>
</div>
<div id='classEntityGroup'>
<table class='memberTable' id='classProperties'>
<tr valign='top'>
<th colspan='1'><p>Return Value</p></th>
</tr>
<tr valign='top'>
<td width='100%'>
<p style='margin-bottom: 9px'>none</p>

</td>
</tr>
</table>
</div>
<br/>
<div class='parameters'>// Do not call yield too often in your loops<br />
for (int i = 0; i &lt; 5000; i++) {<br />
	// Random processing<br />
<br />
	// Yield some time back<br />
	if (i % 100 == 0)	REALYieldToRB();<br />
}</div>
</div>
<br/>
<br/>
<div id='topicHeader'><h2><a name='REALstringToOSType'></a>REALstringToOSType</h2></div>
<div id='content'>
<p id='briefDesc'>Converts the given string to an OSType integer value as appropriate for the target platform. Note that OSType values are always big endian, regardless of the platform's native architecture endianness. The string passed into this function should be four characters long with all of the data being in the system encoding.</p>
<div id='classEntityGroup'>
<table class='memberTable' id='classProperties'>
<tr valign='top'>
<th colspan='1'><p>unsigned long REALstringToOSType(REALstring id);</p></th>
</tr>
<tr valign='top'>
<td width='100%'>
<p style='margin-bottom: 9px'><p>return value: the OSType from the original string</p></p>
<p style='margin-bottom: 9px'></p>

</td>
</tr>
</table>
</div>
<div id='classEntityGroup'>
<table class='memberTable' id='classProperties'>
<tr valign='top'>
<th colspan='1'><p>Return Value</p></th>
</tr>
<tr valign='top'>
<td width='100%'>
<p style='margin-bottom: 9px'>id: the four char code to convert</p>

</td>
</tr>
</table>
</div>
</div>
<br/>
<br/>
<div id='topicHeader'><h2><a name='REALLockObject'></a>REALLockObject</h2></div>
<div id='content'>
<p id='briefDesc'>This method retains a reference to a REALbasic object so that it will not be released by the framework's memory manager. You should lock an object any time your plugin holds a permanent reference to it. For instance, if you have a property setter which holds onto the object reference, then you should lock the object before exiting the method.</p>
<div id='classEntityGroup'>
<table class='memberTable' id='classProperties'>
<tr valign='top'>
<th colspan='1'><p>void REALLockObject(REALobject obj);</p></th>
</tr>
<tr valign='top'>
<td width='100%'>
<p style='margin-bottom: 9px'><p>obj: the object to lock</p></p>
<p style='margin-bottom: 9px'></p>

</td>
</tr>
</table>
</div>
<div id='classEntityGroup'>
<table class='memberTable' id='classProperties'>
<tr valign='top'>
<th colspan='1'><p>Return Value</p></th>
</tr>
<tr valign='top'>
<td width='100%'>
<p style='margin-bottom: 9px'>none</p>

</td>
</tr>
</table>
</div>
<br/>
<div class='parameters'>Beware of inadvertant memory leaks when "exchanging" locks on objects, like the following:<br />
<br />
// Wrong (forgets to unlock old object)<br />
REALLockObject( obj );<br />
mStoredObjRef = obj;<br />
<br />
// Wrong (improper lock exchange order)<br />
REALUnlockObject( mStoredObjRef );<br />
</div>
</div>
<br/>
<br/>
<div id='topicHeader'><h2><a name='REALUnlockObject'></a>REALUnlockObject</h2></div>
<div id='content'>
<p id='briefDesc'>This method releases a reference to a REALbasic object so that it can be released by the framework's memory manager if it's appropriate. You should unlock an object any time your plugin no longer needs to hold a reference to it. For instance, if you have a property setter while holds onto the object reference, then you should unlock the old stored reference since you no longer require it.</p>
<div id='classEntityGroup'>
<table class='memberTable' id='classProperties'>
<tr valign='top'>
<th colspan='1'><p>void REALUnlockObject(REALobject obj);</p></th>
</tr>
<tr valign='top'>
<td width='100%'>
<p style='margin-bottom: 9px'><p>obj: the object to unlock</p></p>
<p style='margin-bottom: 9px'></p>

</td>
</tr>
</table>
</div>
<div id='classEntityGroup'>
<table class='memberTable' id='classProperties'>
<tr valign='top'>
<th colspan='1'><p>Return Value</p></th>
</tr>
<tr valign='top'>
<td width='100%'>
<p style='margin-bottom: 9px'>none</p>

</td>
</tr>
</table>
</div>
<br/>
<div class='parameters'>Beware of inadvertant memory leaks when "exchanging" locks on objects, like the following:<br />
<br />
// Wrong (forgets to unlock old object)<br />
REALLockObject( obj );<br />
mStoredObjRef = obj;<br />
<br />
// Wrong (improper lock exchange order)<br />
REALUnlockObject( mStoredObjRef );<br />
REALLockObject( obj );<br />
mStoredObjtRef = obj;<br />
<br />
// Correct<br />
REALLockObject( obj );<br />
REALUnlockObject( mStoredObjtRef );<br />
mStoredObjRef = obj;</div>
</div>
<br/>
<br/>
<div id='topicHeader'><h2><a name='REALGetClassData'></a>REALGetClassData</h2></div>
<div id='content'>
<p id='briefDesc'>This method returns the instance-specific information about a plugin class. When a class is registered with the Plugin SDK, you reserve extra space for it with the REALclassDefinition.dataSize field. This function retrieves a pointer to that extra space. You are allowed to modify the data in this space, but you should never release this pointer (the framework will release it for you manually). Note that you should not use this</p>
<div id='classEntityGroup'>
<table class='memberTable' id='classProperties'>
<tr valign='top'>
<th colspan='1'><p>void *REALGetClassData(REALobject instance, REALclassDefinition *defn);</p></th>
</tr>
<tr valign='top'>
<td width='100%'>
<p style='margin-bottom: 9px'><p>instance: the REALobject instance from which to retrieve the data. This parameter cannot be NULL.</p></p>
<p style='margin-bottom: 9px'><p>efn: the class definition which describes the object. This parameter cannot be NULL.</p></p>
<p style='margin-bottom: 9px'></p>

</td>
</tr>
</table>
</div>
<div id='classEntityGroup'>
<table class='memberTable' id='classProperties'>
<tr valign='top'>
<th colspan='1'><p>Return Value</p></th>
</tr>
<tr valign='top'>
<td width='100%'>
<p style='margin-bottom: 9px'>a pointer to the instance-specific data section</p>

</td>
</tr>
</table>
</div>
<br/>
<div class='parameters'>It is recommended that you use the ClassData macro instead of calling this function directly as a way to access individual elements of your reserved space.  For instance, if your class definition reserves space for a MySpiffyClassData structure:<br />
<br />
// The structure definition<br />
struct MySpiffyClassData {<br />
	long mValue;<br />
	REALstring mText;<br />
};<br />
<br />
// Properly retrieve the class data<br />
ClassData( &amp;MyClassDefinition, realObjInstance, MySpiffyClassData, me );<br />
me-&gt;mValue = 100;<br />
me-&gt;mText = REALBuildString( "Wahoo", 5 );</div>
</div>
<br/>
<br/>
<div id='topicHeader'><h2><a name='REALGetControlData'></a>REALGetControlData</h2></div>
<div id='content'>
<p id='briefDesc'>This method returns the instance-specific information about a plugin control. When a control is registered with the Plugin SDK, you reserve extra space for it with the REALcontrol.dataSize field. This function retrieves a pointer to that extra space. You are allowed to modify the data in this space, but you should never release this pointer (the framework will release it for you manually).</p>
<div id='classEntityGroup'>
<table class='memberTable' id='classProperties'>
<tr valign='top'>
<th colspan='1'><p>void *REALGetControlData(REALcontrolInstance instance, REALcontrol *defn);</p></th>
</tr>
<tr valign='top'>
<td width='100%'>
<p style='margin-bottom: 9px'><p>instance: the REALobject instance from which to retrieve the data. This parameter cannot be NULL.</p></p>
<p style='margin-bottom: 9px'><p>efn: the class definition which describes the object. This parameter cannot be NULL.</p></p>
<p style='margin-bottom: 9px'></p>

</td>
</tr>
</table>
</div>
<div id='classEntityGroup'>
<table class='memberTable' id='classProperties'>
<tr valign='top'>
<th colspan='1'><p>Return Value</p></th>
</tr>
<tr valign='top'>
<td width='100%'>
<p style='margin-bottom: 9px'>A pointer to the instance-specific data section</p>

</td>
</tr>
</table>
</div>
<br/>
<div class='parameters'>It is recommended that you use the ControlData macro instead of calling this function directly as a way to access individual elements of your reserved space.  For instance, if your control definition reserves space for a MySpiffyClassData structure:<br />
<br />
// The structure definition<br />
struct MySpiffyClassData {<br />
	long mValue;<br />
	REALstring mText;<br />
};<br />
<br />
// Properly retrieve the class data<br />
ControlData( &amp;MyControlDefinition, realObjInstance, MySpiffyClassData, me );<br />
me-&gt;mValue = 100;<br />
me-&gt;mText = REALBuildString( "Wahoo", 5 );</div>
</div>
<br/>
<br/>
<div id='topicHeader'><h2><a name='REALGetDelegateInvoker'></a>REALGetDelegateInvoker</h2></div>
<div id='content'>
<p id='briefDesc'>Gets the function pointer needed to call the delegate.</p>
<div id='classEntityGroup'>
<table class='memberTable' id='classProperties'>
<tr valign='top'>
<th colspan='1'><p>void *REALGetDelegateInvoker(REALobject delegate);</p></th>
</tr>
<tr valign='top'>
<td width='100%'>
<p style='margin-bottom: 9px'><p>delegate: the delegate object.</p></p>
<p style='margin-bottom: 9px'></p>

</td>
</tr>
</table>
</div>
<div id='classEntityGroup'>
<table class='memberTable' id='classProperties'>
<tr valign='top'>
<th colspan='1'><p>Return Value</p></th>
</tr>
<tr valign='top'>
<td width='100%'>
<p style='margin-bottom: 9px'>The function pointer or NULL on error</p>

</td>
</tr>
</table>
</div>
<br/>
<div class='parameters'>
The function pointer returned requires passing in the delegate as the
first parameter. For example, if the delegate type were declared as<br/>
Test( i as integer ) as string<br/>
the C/C++ function signature would look like<br/>
REALstring (*)(REALobject, RBInteger)
 </div>
</div>
<br/>
<br/>

